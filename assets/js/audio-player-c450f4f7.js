let l=.5,c=0;function f(s){const n=Math.floor(s/60),i=Math.floor(s%60);return n+":"+i.toString().padStart(2,"0")}function u(s){const n=Math.floor(s/60)%60,t=Math.floor(s%60).toString().padStart(2,"0");return(n<10?"0"+n:n)+":"+t}window.initProgressBar=(s,n)=>{const i=document.querySelector('[data-audio-player-progress-bar="'+s.dataset.audioPlayer+'"]'),t=document.querySelector('[data-audio-player-start-time="'+s.dataset.audioPlayer+'"]');t&&(t.innerHTML="00:00");const e=document.querySelector('[data-audio-player-button="'+s.dataset.audioPlayer+'"]');let a=s.duration;(!isFinite(a)||isNaN(a))&&(a=0);let o=f(a);const r=document.querySelector('[data-audio-player-end-time="'+s.dataset.audioPlayer+'"]');r&&(r.innerHTML=o),i.addEventListener("click",m),s.currentTime===a&&(e.classList.contains("bg-pause")&&(e.classList.remove("bg-pause"),e.classList.add("bg-play")),e.classList.contains("bg-pause-red")&&(e.classList.remove("bg-pause-red"),e.classList.add("bg-play-red")),e.classList.contains("bg-pause-white")&&(e.classList.remove("bg-pause-white"),e.classList.add("bg-play-white")));function m(g){let d=g.offsetX/this.offsetWidth;s.currentTime=d*a,i.value=d}c=u(s.duration)};window.updateProgressBar=(s,n,i)=>{let t=s.currentTime,e=u(t);const a=document.querySelector('[data-audio-player-start-time="'+s.dataset.audioPlayer+'"]');a&&(a.innerHTML=e);let o=s.duration;const r=document.querySelector('[data-audio-player-progress-bar="'+s.dataset.audioPlayer+'"]');(!isFinite(o)||isNaN(o))&&(o=0),isFinite(o)&&(r.value=s.currentTime/o),s.currentTime>=o*.95&&o!==0&&n!==void 0&&!window.courseLessonCompleted&&(sendSessionEvent(n),window.courseLessonCompleted=!0,i!==void 0&&p(i)),e===c&&(s.pause(),window.dispatchEvent(new CustomEvent("show-end-modal"))),window.courseCompletedPercentage=s.currentTime/o*100};window.initVolumeBar=s=>{const n=document.querySelector('[data-audio-player-volume-bar="'+s.dataset.audioPlayer+'"]');n!==null&&n.addEventListener("change",e);const i=document.querySelector(".range-slider"),t=document.getElementById("volume-icon-wrapper");if(i!==null){const a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2147 0.0914262C12.7375 -0.094572 12.1915 0.00862701 11.8275 0.351824L5.83673 6.00017H2.54545C1.14164 6.00017 0 7.07656 0 8.40015V15.6001C0 16.9237 1.14164 18.0001 2.54545 18.0001H5.83673L11.8275 23.6484C12.0705 23.8776 12.3964 24 12.7273 24C12.8915 24 13.0569 23.97 13.2147 23.9088C13.6895 23.7228 14 23.2848 14 22.8V1.20022C14 0.71542 13.6895 0.277425 13.2147 0.0914262Z" fill="white"/><path d="M21.8856 12.0002L23.6096 10.4486C24.1309 9.97939 24.1309 9.22099 23.6096 8.7518C23.0882 8.2826 22.2456 8.2826 21.7243 8.7518L20.0003 10.3034L18.2763 8.7518C17.755 8.2826 16.9123 8.2826 16.391 8.7518C15.8697 9.22099 15.8697 9.97939 16.391 10.4486L18.115 12.0002L16.391 13.5518C15.8697 14.0209 15.8697 14.7793 16.391 15.2485C16.651 15.4825 16.9923 15.6001 17.3336 15.6001C17.675 15.6001 18.0163 15.4825 18.2763 15.2485L20.0003 13.697L21.7243 15.2485C21.9842 15.4825 22.3256 15.6001 22.6669 15.6001C23.0082 15.6001 23.3496 15.4825 23.6096 15.2485C24.1309 14.7793 24.1309 14.0209 23.6096 13.5518L21.8856 12.0002Z" fill="white"/></svg>',o='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.6319 20.8319C19.3235 20.8319 19.0151 20.7131 18.7811 20.4779C18.3131 20.0075 18.3155 19.2479 18.7859 18.78C20.6003 16.9776 21.5999 14.5704 21.5999 12.0001C21.5999 9.42975 20.6003 7.02259 18.7859 5.22023C18.3155 4.75224 18.3131 3.99386 18.7811 3.52227C19.2479 3.05188 20.0063 3.04948 20.4779 3.51747C22.7495 5.77462 23.9999 8.78656 23.9999 12.0001C23.9999 15.2136 22.7495 18.2256 20.4779 20.4827C20.2439 20.7155 19.9379 20.8319 19.6319 20.8319Z" fill="white"/><path d="M16.2355 17.4361C15.9259 17.4361 15.6163 17.3173 15.3823 17.0797C14.9155 16.6082 14.9203 15.8486 15.3919 15.383C16.2859 14.4986 16.7995 13.265 16.7995 12.0003C16.7995 10.7355 16.2859 9.5019 15.3919 8.61752C14.9203 8.15193 14.9167 7.39235 15.3823 6.92076C15.8479 6.45036 16.6075 6.44556 17.0791 6.91115C18.4267 8.24313 19.1995 10.0983 19.1995 12.0003C19.1995 13.9022 18.4267 15.7574 17.0791 17.0893C16.8451 17.3209 16.5403 17.4361 16.2355 17.4361Z" fill="white"/><path d="M12.7273 24C12.3964 24 12.0705 23.8776 11.8275 23.6484L5.83673 18.0001H2.54545C1.14164 18.0001 0 16.9237 0 15.6002V8.40032C0 7.07675 1.14164 6.00037 2.54545 6.00037H5.83673L11.8275 0.352084C12.1915 0.00769113 12.7387 -0.0943068 13.2147 0.0916894C13.6907 0.277686 14 0.715677 14 1.20047V22.8C14 23.2848 13.6907 23.7228 13.2147 23.9088C13.0569 23.97 12.8915 24 12.7273 24Z" fill="white"/></svg>';s.volume===0?t.innerHTML=a:t.innerHTML=o,i.addEventListener("input",function(){l=parseFloat(i.value)/100;const r=(this.value-this.min)/(this.max-this.min)*100;this.style.setProperty("--range-value",r+"%"),r===0?t.innerHTML=a:t.innerHTML=o}),t.addEventListener("click",function(){s.volume===0?(s.volume=l,i.value=l*100,i.style.setProperty("--range-value",l*100+"%"),t.innerHTML=o):(s.volume=0,i.value=0,i.style.setProperty("--range-value","0%"),t.innerHTML=a)}),s.volume===0?(i.value=0,i.style.setProperty("--range-value","0%")):(i.value=l*100,i.style.setProperty("--range-value",l*100+"%"))}function e(a){s.volume=a.target.value/100}};function h(s,n){for(let i=0;i<s;i++){const t=document.querySelectorAll("[data-audio-player-button]");for(let e=0;e<t.length;e++){const a=document.querySelector('[data-audio-player="'+t[e].dataset.audioPlayerButton+'"]');a.addEventListener("pause",()=>{t[e].classList.contains("bg-pause")&&(t[e].classList.remove("bg-pause"),t[e].classList.add("bg-play")),t[e].classList.contains("bg-pause-red")&&(t[e].classList.remove("bg-pause-red"),t[e].classList.add("bg-play-red")),t[e].classList.contains("bg-pause-white")&&(t[e].classList.remove("bg-pause-white"),t[e].classList.add("bg-play-white"))}),a.addEventListener("play",()=>{t[e].classList.contains("bg-play")&&(t[e].classList.remove("bg-play"),t[e].classList.add("bg-pause")),t[e].classList.contains("bg-play-red")&&(t[e].classList.remove("bg-play-red"),t[e].classList.add("bg-pause-red")),t[e].classList.contains("bg-play-white")&&(t[e].classList.remove("bg-play-white"),t[e].classList.add("bg-pause-white"))}),t[e].addEventListener("click",()=>{a.paused===!1?a.pause():(a.play(),n!==void 0&&sendSessionEvent(n))})}}}function p(s,n={}){fetch(s,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then(i=>i.json()).then(i=>{const t=document.getElementById("trustpilot-modal"),e=document.getElementById("thanks-modal");!i.showTrustpilotReview&&!t.classList.contains("hidden")&&(e.style.display="block",t.classList.add("hidden")),i.showTrustpilotReview&&t.classList.contains("hidden")&&(t.classList.remove("hidden"),e.style.display="none",n.hasOwnProperty("extraEventRoute")&&fetch(n.extraEventRoute,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}})),i.redirectUrl&&(window.location.href=i.redirectUrl)}).catch(i=>console.error("Error:",i))}window.initAudioPlayer=(s,n)=>{const i=document.querySelectorAll("[data-audio-player]"),t=document.querySelectorAll(".audio-wrapper");h(t.length,s);for(let e=0;e<i.length;e++)i[e].addEventListener("loadedmetadata",()=>{initProgressBar(i[e],n)})};window.sendSessionEvent=(s,n={},i=void 0)=>{i!==void 0&&window.open(i,"_blank"),p(s,n)};
